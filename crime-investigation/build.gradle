apply plugin: 'java-library'
apply plugin: 'application'

repositories {
	jcenter()
}

mainClassName = 'com.ataccama.examle.crime.CrimeInvestigation'
// applicationDefaultJvmArgs = ['-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=5005']

run {
	standardInput = System.in
}

jar {
    manifest {
        attributes 'Main-Class': 'com.ataccama.examle.crime.CrimeInvestigation'
    }
}

dependencies {
	compile group: 'org.apache.spark', name: 'spark-core_2.10', version: '1.6.3'
	
	compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.16.16'
}

task deployCluster(type:Exec) {
	commandLine './cluster.sh', 'deploy'
}
deployCluster.dependsOn build

task runCluster(type:Exec) {
	commandLine './cluster.sh', 'run'
}
runCluster.dependsOn deployCluster

